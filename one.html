<html>
<head>
<title>Human Capabilities - Reaction test</title> </head>
<body>

<table width = "50%" align = "center"><tr valign = "center"><td>
<h1><p id="text">Exercise D</p></h1>
<p id="instruction">Instructions will be shown here.</p>
<p>
<p id="time"></p> <p id="count"></p> <p id="mean"></p> <p id="sd"></p> </td></tr></table>

<script src = "experiment.js"> </script>

<script type="text/javascript">
	function showSimpleStimulus() {
		testActive = true;
		if (currentExperiment.responses.length < currentExperiment.maxTrials /2) {
			document.getElementById("text").innerHTML = "<img src = 'animal.png' height = 344>";
			currentExperiment.currentStimulus = 0;
		} else {
			currentExperiment.currentStimulus = 1;
			var audio = new Audio('sound.mp3');
			audio.play();
		}
		return true;
	}

	function clearSimpleStimulus() {
		if (currentExperiment.responses.length < currentExperiment.maxTrials /2) {
			document.getElementById("text").innerHTML = "<img src = '' height = 344><br />";
		} else {
			document.getElementById("text").innerHTML = "Press SPACE when you hear an animal sound.";
		}
	}

	function onKey(e) { 
		if (e == null) {
			e = window.event;
		}
		switch (e.which || e.charCode || e.keyCode) {
			case 32:
			// space
			if (!currentExperiment.experimentActive) {
				currentExperiment.startExperiment(); 
			} else {
				if (testActive) {
					currentExperiment.stopTest();
				} else {
					currentExperiment.reportError();
				}
			}
			break;
			case 27: // a
			if (currentExperiment.experimentActive) {
				currentExperiment.stopExperiment();
			}
			break;
			case 66:
			// b
			// here you can extend... alert("pressed the b key"); break;
		}
	}

	currentExperiment = new experiment(1, 
	"Please make yourself familiar with this friendly animal. I drew the whole thing myself.<br /> " +
	"<img src = 'animal.png' height = 344><br />First, you will be requested to press SPACE BAR every time you see him." +
	"Then, you will have to press SPACE BAR when you hear his sound.<br />" + 
	"<strong>Possible side effects of this experiment</strong>:<ul><li>extreme boredom</li><li>animal sounds (use headphones if you are in a lecture!)</li></ul><br />" +
	"Press SPACE BAR to begin.", 
	"Press SPACE BAR when you see the animal or hear its sound.", 
	showSimpleStimulus, clearSimpleStimulus, onKey, 50, ["Animal image","Animal sound"]);
</script>
</body>
</html>
